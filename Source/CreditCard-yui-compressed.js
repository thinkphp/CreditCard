var CreditCard=new Class({options:{cards:{Visa:/^4[0-9]{12}(?:[0-9]{3})?$/,MasterCard:/^5[1-5][0-9]{14}$/,Discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/,AmericanExpress:/^3[47][0-9]{13}$/,DinersClub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,JCV:/^(?:2131|1800|35\d{3})\d{11}$/,Maestro:/^((67\d{2})|(4\d{3})|(5[1-5]\d{2})|(6011))-?\d{4}-?\d{4}-?\d{4}|3[4,7]\d{13}$/},unknown:"Unknown type"},initialize:function(a){this.number=a.replace(/\s/g,"")},isValid:function(){return this.validate()},getType:function(){if(this.validate()){for(var a in this.options.cards){if(this.is(a)){return a}}}return this.options.unknown},is:function(a){return this.options.cards[a].test(this.number)},validate:function(){var a=0,c=false,b=this.number.length;if(b<13||b>19){return false}while(b--){var d=parseInt(this.number.charAt(b),10);if(isNaN(d)){return false}if(c){d*=2;d>9&&(d=d%10+1)}c=!c;a+=d}return a%10==0}.protect()});